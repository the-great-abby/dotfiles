#!/bin/bash

today=$(date +"%Y-%m-%d")
file="$SECOND_BRAIN"'/04-areas/fitness/workout-'"$today".md
day_file="$SECOND_BRAIN/daily_notes/${today}.md"

cd "$SECOND_BRAIN" || exit

new_note() {
	touch "$file"

	# Format the file with the workout template
	cat <<EOF >"$file"
---
type: workout
workout date: ${today}
---

# Workout

# $today

# Sets

EOF
}

# If the workout note does not exist, create a new one.
if [ ! -f "$file" ]; then
	echo "File does not exist, creating new workout."
	new_note
	echo "- [[workout-${today}]]" >>"${day_file}"
fi


echo "- [x] 20 Bodyweight Squats" >> "$file"